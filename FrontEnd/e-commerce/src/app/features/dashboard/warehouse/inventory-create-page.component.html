<div class="dashboard-page">
  <header class="page-header">
    <h1 class="page-title">Stok kalemi ekle</h1>
    <p class="page-desc">Mevcut bir ürünü bir depoya bağlayıp miktar girin (ürün eklemek için Ürünler → Ürün ekle).</p>
  </header>

  @if (createError()) {
    <div class="state state-error" role="alert">{{ createError() }}</div>
  }

  <div class="card form-card">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="depo-form">
      <label for="productId">Ürün</label>
      <select id="productId" formControlName="productId">
        <option value="">Seçiniz</option>
        @for (p of products(); track p.id) {
          <option [value]="p.id">{{ p.name }}</option>
        }
      </select>
      <label for="warehouseId">Depo</label>
      <select id="warehouseId" formControlName="warehouseId">
        <option value="">Seçiniz</option>
        @for (w of warehouses(); track w.id) {
          <option [value]="w.id">{{ w.name }}</option>
        }
      </select>
      <label for="quantity">Miktar</label>
      <input id="quantity" type="number" formControlName="quantity" min="0" />
      <div class="form-actions">
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid || saving()">
          {{ saving() ? 'Kaydediliyor…' : 'Stok kalemi ekle' }}
        </button>
        <a routerLink="/dashboard/warehouse" class="btn btn-ghost">İptal</a>
      </div>
    </form>
  </div>

  <a routerLink="/dashboard/warehouse" class="back-link">← Depo listesine dön</a>
</div>
